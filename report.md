# AI와 테스트를 활용한 안정적인 기능 개발 리포트

## 사용하는 도구를 선택한 이유가 있을까요? 각 도구의 특징에 대해 조사해본적이 있나요?

솔직히 말하면, Claude를 결제해서 쓰고 있어서 그대로 사용했습니다.
그리고 agent라는 존재를 처음 알아서 어떻게 하는거지 하고 찾아보다가 공식문서에 agents 구성 방법이 잘 나와 있어서 '잘 지원되겠구나' 하고 선택했던 것 같아요.
이번에는 특징이나 비교까지 깊게 조사하여 사용한건 아니지만, 다음번에 선택해야하는 순간이 온다면 기준을 세워서 비교해보고 선택하고 진행해야겠다 생각했습니다.

## 테스트를 기반으로 하는 AI를 통한 기능 개발과 없을 때의 기능개발은 차이가 있었나요?

엄청 달랐어요. 혼자 개발할 때는 "이 기능 어떻게 구현하지?"부터 고민하면서 코드부터 짜기 시작했는데, AI랑 테스트 기반으로 하니까 "이 기능은 어떻게 동작해야 하지?"를 먼저 정리하게 되더라고요.
혼자 할 때는 일단 만들고 나서 버그 터지면 고치는 식이었는데, AI한테 테스트 설계부터 시키니까 엣지 케이스나 예외 상황을 미리 생각하게 됐어요.
그리고 AI가 이상한 짓 하려고 하면 테스트가 실패해서 "어 이거 아닌데?"하고 잡을 수 있었고요.
근데 솔직히 처음엔 시간이 더 오래 걸려서 답답했어요. 그냥 코드 짜는 게 빠르지 않나? 싶었는데, 나중에 보니까 버그 잡고 수정하는 시간을 생각하면 이게 더 나은 것 같더라고요.

## AI의 응답을 개선하기 위해 추가했던 여러 정보(context)는 무엇인가요?

페르소나 주입: "QA 리드이자 테스트 전략 컨설턴트", "TDD를 철저히 지키는 시니어 프론트엔드 엔지니어" 같은 구체적인 역할 부여
프로젝트 구조: App.tsx 같은 실제 구현 파일들
이전 단계 결과물: specs, test-designs 폴더에 만들어진 파일들
가이드 문서: .claude/docs/test-writing-guide.md, BMAD Code 참고 자료
input, output 명시

## 이 context를 잘 활용하게 하기 위해 했던 노력이 있나요?

처음엔 "이 문서 읽고 진행해!"라고 했는데 너무 길어지고 AI가 오히려 지침을 안 지키는 느낌을 받았습니다.
그래서 방식을 바꿔서 "이 문서를 읽어보고 요구사항에 중요한 부분만 넣어줘"라고 해서 핵심 원칙만 프롬프트에 녹여냈어요.
그리고 각 단계마다 파일을 생성해서 다음 단계에서 참조하게 했는데, 이렇게 하니까 context가 누적되면서 AI가 이전 단계를 이해하고 다음 작업을 하는 데 도움이 됐던 것 같아요.

## 생성된 여러 결과는 만족스러웠나요? AI의 응답을 어떤 기준을 갖고 '평가(evaluation)'했나요?

완전 만족스럽진 않았어요. 특히 테스트 코드 작성 단계에서 "잘 짠 것 같다" 하고 승인했는데, 나중에 코드 작성 단계에서 보니까 "어? 테스트가 잘못됐네"싶은 경우가 있었어요.
평가 기준은:

- 테스트 다 통과했나?
- 내가 요청한 범위만 작업했나? (멋대로 다른 기능 추가 안 했나?)
- 기존 기능 안 망가뜨렸나?

근데 문제는 제가 TDD를 이번에 처음 배워서 "좋은 테스트 설계"가 뭔지 기준이 명확하지 않았어요.
그래서 테스트 코드 설계 단계에서 "오 괜찮은데?"하고 승인했는데, 나중에 실제 코드 작성하다 보니 "어? 테스트 설계 자체가 잘못됐네?"싶은 경우가 있었어요.
다음에는 테스트 코드에 대해 공부를 더 해서, 체크리스트 만든 후 체크리스트에 맞게 자동으로 검증하는 에이전트를 추가해보고 싶습니다.

## AI에게 어떻게 질문하는것이 더 나은 결과를 얻을 수 있었나요? 시도했던 여러 경험을 알려주세요.

1. 작업 전에 나한테 질문하게 했을 때
   "반복 일정 수정 기능 추가해줘" 하면 AI가 "오 그럼 종료일 선택도 만들고 삭제도 만들고..." 하면서 멋대로 확장하더라고요.
   그래서 "작업 시작 전에 범위 확인하는 질문 먼저 해줘"라고 했더니 "아 이건 다음에 하면 되겠네요" 하면서 맡은 것만 했어요.
2. 단계별로 컨펌 받게 했을 때
   처음엔 "이 기능 추가해줘" → "완성!" 이렇게 완전 자동화를 꿈꿨는데, AI가 "15개 중 3개 실패했지만 12개 성공했으니 넘어갈게요"하면서 테스트 실패를 무시하고 진행하더라고요..
   그래서 오케스트레이션 에이전트에 각 단계마다 내 컨펌 받고 다음으로 넘어가게 했어요. 마음에 안 들면 "이유 + 재수정 요청" 할 수 있게요.
3. 프롬프트를 너무 길게 쓰지 않았을 때
   "이것도 하지마 저것도 하지마 이건 잘해야해" 막 길게 쓰니까 오히려 AI가 지침을 안 지키고, 토큰도 엄청 써서 토큰 다썼다고 5시간 대기하라는 문구가 계속 떴어요...
   Q&A 세션에서 "너무 길어도 안 좋다"는 얘기 듣고 문서를 매번 읽기보단, 이걸 읽어보고 요구사항에 중요한 것만 적어달라고 하고 진행하니 토큰 만료 속도도 느려지고, 요구사항을 빼먹는 경우가 줄어들었습니다.

## AI에게 지시하는 작업의 범위를 어떻게 잡았나요? 범위를 좁게, 넓게 해보고 결과를 적어주세요. 그리고 내가 생각하는 적절한 단위를 말해보세요.

범위를 넓게 잡았을 때:
처음에는 "반복 일정 수정 기능 추가해줘" 요구사항은 이거야. 하고 요청했었는데, "예", "아니오" 눌렀을 때 두 가지 경우를 다 고려해야 하다 보니 AI가 계속 실패하고, 심지어 "어느 정도 잘 되니까 그냥 넘어갈게요"라면서 실패한 채로 다음 단계로 넘어가려고 하더라고 했습니다. 토큰 소모량도 엄청 났습니다.

범위를 좁게 잡았을 때:
그래서 기능을 어떻게 쪼갤까 고민하다가, "반복 일정 수정"할 때 사용자가 선택하는 경우의 수로 나눠봤어요:

"예" 누르는 경우: 단일 일정으로 변경 (반복 해제)
"아니오" 누르는 경우: 전체 수정 (반복 유지)

이렇게 반반으로 나눠서 "먼저 '예' 누르는 경우만 구현해줘", 그 다음 "'아니오' 누르는 경우 구현해줘" 이렇게 순차적으로 요청했어요. 그랬더니 확실히 실패가 덜 하고, AI도 헤매는(?) 경우가 줄어들었습니다.

## 동기들에게 공유하고 싶은 좋은 참고자료나 문구가 있었나요? 마음껏 자랑해주세요.

참고한 자료들이 대부분 과제 참고사항에 있던 것들이라 추가로 공유하고 싶은 건 딱히 없지만.. 다른분들이 공유주실 내용이 궁금하네요!
저는 과제 Q&A 세션에서 오프코치님이 해주신 말이 인상 깊었어요.

"이렇게 모호하게 요청하면 저여도 뭐 해야 할지 모르겠어요"

이 조언을 듣고 나서 "내가 이 프로젝트를 처음 하는 사람이라면?" 하고 생각하며 요청하려고 노력했어요.
사람이 처음 봤을 때도 바로 이해할 수 있을 만큼 명확하게 지시하는 게 중요한 것 같다 생각했습니다.

## AI가 잘하는 것과 못하는 것에 대해 고민한 적이 있나요? 내가 생각하는 지점에 대해 작성해주세요.

과제를 시작하기 전에는 AI가 제 요구사항을 제대로 안 들어줄 때마다 답답하고 화가 나서 "그거 아니라고 했잖아!" 하면서 감정적으로 대응했었는데, 이번 과제를 통해 AI가 잘하는 것과 못하는 것을 구분해서 생각하게 되었습니다.

AI가 잘하는 것:

(토큰은 많이 들지만..)많은 양의 코드와 문서를 빠르게 읽고 파악하는 능력이 뛰어납니다.
가끔 놓치더라도 "프로젝트 다시 파악하고 생각해줘"라고 하면 놓친 부분을 파악하고 잘 진행합니다.

AI가 못하는 것:

"이건 당연히 알겠지" 하고 넘어간 부분을 스스로 추론하지 못합니다.
후임 직원에게 인수인계 문서를 작성하듯이 상세하게 지시해야 제대로 동작합니다.

## 마지막으로 느낀점에 대해 적어주세요!

처음 과제를 시작하기 전에는 "와! AI 써서 하면 저번 주보다는 쉽게 할 수 있겠는데?"라고 생각했는데... 완전 오산이었습니다.
생각보다 AI를 다루는 건 힘들었고, 토큰 만료와 싸우며 울고 싶을 때도 많았어요. 내가 만든 에이전트가 완벽하지는 않더라도 배워가며 "뭐가 좋은 방식인지" 조금씩 알아가고, 직접 만든 에이전트들이 기능을 추가해주는 경험을 해보고 싶었는데 잘못 구성해서 토큰을 많이 쓰게되면 5시간 제한에 걸려버리더라구요..
그렇다고 낮은 모델을 쓰자니 이상하게 만들어버려서 에이전트를 만들었다 지우고, 다시 만들고 지우고를 여러 번 반복했습니다.

하지만 하다 보니 어느 정도 나만의 기준이 생겼어요. "너무 길게 요청하지 말자", "기능은 쪼개서 요청하자" 같은 것들요. 점차 나아지는 모습을 보면서 조금은 뿌듯했던 것 같아요.
뭔가 힘든 것만 적으니 힘든 일만 있었던 것 같지만 (힘들긴 했습니다... 지금 제대로 한 건지 잘 모르겠어요...ㅠ), 그래도 하면서 너무너무 재미있었습니다.
AI랑 대화하며 재미있는 일들도 많았고요. 갑자기 영어로 말해서 한국어로 말해달라고 했더니 "죄송합니다"만 한국어로 하고 계속 영어로 말하는 Claude... 힘들다고 하니까 "그럼 여기까지 하자"고 하는 Cursor...

에이전트라는 존재를 안 것만으로도 너무 신기했어요. 이렇게 특화된 에이전트들을 만들어서 단계별로 동작하게 하는 방법이 있다니! 잘 쓰면 실무에서도 적용할 수 있겠다는 생각도 들었습니다.
Q&A 세션에서 오프코치님이 말씀해주신 것처럼, 지금은 너무 어렵고 뭐가 뭔지 이해가 안 가더라도 과제를 수행하면서 몰랐던 부분들을 나열하고 하나씩 찾아가는 과정을 통해 좀 더 깊게 공부해보고 싶어요.
그리고 실무에서 적용할 수 있는 부분들에 한번 도전해보고 싶습니다.

재미있는 과제였습니다!
